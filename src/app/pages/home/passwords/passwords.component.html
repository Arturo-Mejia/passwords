
<div class="d-flex justify-content-center align-items-center gap-3" style="margin-top: 90px;">
  <div >
    <h4 class="text-center fw-medium">MIS CONTRASEÑAS</h4>
  </div>
  <div>
    <button class="btn-grad border-0 rounded-3 p-2" style="min-width: 5rem;" (click)="showmodalcreate()">
      <i class='bx bx-plus-circle bx-sm'></i>
    </button>
  </div>
</div>
<div class="d-flex justify-content-center ">
</div>
<div class="d-flex p-3 m-3 gap-3 flex-wrap justify-content-center" style="margin-bottom: 80px !important;">
  
    <div *ngFor="let item of items let i = index" class="bg-white p-2 shadow rounded-4" style="width: 95%; max-width: 20rem;">
        <div class="d-flex justify-content-center">
            <img src="/assets/images/passwords.gif" width="40px">
        </div>
        <div class="p-3">
            <p class="m-0 text-center">Descripcion:</p>
            <p class="m-0 text-center p-1 rounded-3" style="background-color: rgb(233, 245, 244);">{{item.descripcion}}</p>
            <p class="m-0 text-center">Usuario:</p>
            <p class="m-0 text-center p-1 rounded-3" style="background-color: #e9f5f4;">{{item.useraccount}}</p>

            <p class="m-0 text-center">Contraseña</p>
            <p-password [toggleMask]="true" [feedback]="false" 
            [style]="{'width':'100%', 'margin-top':'10px'}"
            [(ngModel)]="items[i].pass" [disabled]="true"></p-password>

        </div>
        <div class="d-flex justify-content-center m-3">
                <button class="btn btn-grad text-light" (click)="copypass(item)"><i class='bx bxs-copy-alt'></i></button>
                <button class="btn btn-grad3 text-light" (click)="showmodaledit(item)"><i class='bx bx-edit-alt'></i></button>
                <button class="btn btn-grad2 text-light" (click)="showmodaldelete(item)"><i class='bx bx-trash'></i></button>
        </div>
    </div>
    
</div>

<main class="" id="divload" #divload>
    <div class="d-flex flex-column justify-content-center align-items-center w-100 h-100">

        <div class="loader"></div>

    </div>
  </main>

  <!-- Agregar cuenta  -->

  <div class="flex justify-content-center">
    <p-dialog header="Agregar cuenta" [(visible)]="visiblecreate" [modal]="true" [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false" [breakpoints]="{ '960px': '85vw' }" [style]="{ width: '30vw' }">

      <div class="d-flex justify-content-center">
        <div style="width: 100%; max-width: 25rem;">

          <div class="d-flex justify-content-center p-3">
            <i class='bx bxs-lock bx-lg bx-tada' style="color: rgb(0, 204, 255);"></i>
          </div>

          <input type="text" class="form-control mt-2 p-3 text-center mb-2" style="background-color: #ffffff; border: rgb(0, 204, 255) solid 1px; border-radius: 100px;"
          placeholder="Descripción de la cuenta"  [(ngModel)]="regdescripcion">

          <input type="text" class="form-control mt-2 p-3 text-center mb-2" style="background-color: #ffffff; border: rgb(0, 204, 255) solid 1px; border-radius: 100px;"
          placeholder="Usuario o email"  [(ngModel)]="reguseraccount">
 
          <p-password [toggleMask]="true" [feedback]="false" 
          [style]="{'width':'100%','background-color': '#ffffff',
          'border': 'rgb(0, 204, 255) solid 1px','border-radius':'100px'}"
          placeholder="Contraseña" [(ngModel)]="regpass"></p-password>
    
        </div>
      </div>
 
      <div class="d-flex justify-content-center">
        <button class="btn-grad border-0 mt-3 rounded-3" style=" width: 100%; max-width: 25rem;"
        (click)="createaccount()">
         Guardar
        </button>
      </div>

    </p-dialog>
</div>

  <!-- Editar cuenta -->

  <div class="flex justify-content-center">
    <p-dialog header="Editar datos" [(visible)]="visibleedit" [modal]="true" [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false" [breakpoints]="{ '960px': '85vw' }" [style]="{ width: '30vw' }">

      <div class="d-flex justify-content-center">
        <div style="width: 100%; max-width: 25rem;">

          <div class="d-flex justify-content-center p-3">
            <i class='bx bxs-lock bx-lg bx-tada' style="color: #9D50BB;"></i>
          </div>

          <input type="text" class="form-control mt-2 p-3 text-center mb-2" style="background-color: #ffffff; border: #9D50BB solid 1px; border-radius: 100px;"
          placeholder="Descripción de la cuenta"  [(ngModel)]="upddescripcion">

          <input type="text" class="form-control mt-2 p-3 text-center mb-2" style="background-color: #ffffff; border: #9D50BB solid 1px; border-radius: 100px;"
          placeholder="Usuario o email"  [(ngModel)]="upduseraccount">
 
          <p-password [toggleMask]="true" [feedback]="false" 
          [style]="{'width':'100%','background-color': '#ffffff',
          'border': '#9D50BB solid 1px','border-radius':'100px'}"
          placeholder="Contraseña" [(ngModel)]="updpass"></p-password>
        </div>
      </div>
 
      <div class="d-flex justify-content-center">
        <button class="btn-grad3 border-0 mt-3 rounded-3" 
        style="width: 100%; max-width: 25rem;" (click)="updateaccount()">
          Actualizar
        </button>
      </div>

    </p-dialog>
</div>

  <!-- Eliminar cuenta -->

  <div class="flex justify-content-center">
    <p-dialog header="Eliminar" [(visible)]="visibledelete" [modal]="true" [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false" [breakpoints]="{ '960px': '85vw' }" [style]="{ width: '30vw' }">

      <div class="d-flex justify-content-center">
        <div style="width: 100%; max-width: 25rem;">
         <p>¿Está segur@ que desea eliminar?</p>
        </div>
      </div>
 
      <div class="d-flex justify-content-center flex-wrap">
        <button class="btn-grad4 border-0 mt-1 rounded-3 p-1" style="width: 40%; max-width: 20rem;"
        (click)="deleteaccount()">
          <i class='bx bx-check-circle bx-md'></i>
        </button>
        <button class="btn-grad border-0 mt-1 rounded-3 p-1" style="width: 40%; max-width: 20rem;" (click)="hidemodaldelete()">
          <i class='bx bx-x-circle bx-md' ></i>
        </button>
      </div>

    </p-dialog>
</div>

<p-toast [breakpoints]="{'920px': {width: '100%', right: '0', left: '0'}}"></p-toast>